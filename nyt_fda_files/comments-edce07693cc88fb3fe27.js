(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"9onL":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var o=n("Jqp9"),i=n("wXC7"),a=n.n(i),r=Object(o.css)("border:1px solid ",a.a.color.gray60,";border-radius:3px;color:",a.a.color.black,";font-family:",a.a.font.franklinBase,";font-size:",a.a.font.size(15),";line-height:",a.a.font.size(18),";padding:10px 15px;transition:0.6s;width:100%;&:focus{border-color:",a.a.color.blue20,";}"),c=Object(o.css)("overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;white-space:pre-wrap;"),s=Object(o.css)("color:",a.a.color.red10,";display:inline-block;")},GUXu:function(e,t,n){"use strict";var o={};n.r(o),n.d(o,"actionClass",(function(){return f})),n.d(o,"secondaryClass",(function(){return h})),n.d(o,"defaultClass",(function(){return b}));var i=n("pVnL"),a=n.n(i),r=n("QILm"),c=n.n(r),s=(n("17x9"),n("q1tI")),l=n.n(s),d=n("Jqp9"),m=n("wXC7"),u=n.n(m),p=Object(d.css)("background:none;border:none;color:",u.a.color.linkColor,";font-family:",u.a.font.franklinBase,";font-size:",u.a.font.size(13),";line-height:",u.a.font.size(18),";text-decoration:none;&:hover{text-decoration:underline;cursor:pointer;}"),f=Object(d.css)("button&,a{",p,";font-weight:",u.a.font.weight.mediumBold,";}"),h=Object(d.css)("button&,a{",p,";}"),b=Object(d.css)("button&,a{",p,";color:",u.a.color.gray40,";padding-bottom:4px;}");n.d(t,"a",(function(){return g}));var g={ACTION:"action",SECONDARY:"secondary",DEFAULT:"default"},v=function(e){var t=e.children,n=e.onClick,i=e.theme,r=c()(e,["children","onClick","theme"]),s=o["".concat(i,"Class")];return n?l.a.createElement("button",a()({type:"button",tabIndex:0,className:s,onClick:n},r),t):l.a.createElement("span",a()({className:s},r),t)};v.displayName="TextButton",v.defaultProps={children:null,onClick:null,theme:g.DEFAULT};t.b=v},Id00:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),a=(n("17x9"),n("q1tI"),n("+4HN")),r=n("WXMI"),c=function(e){var t=e.children;return i()(a.a,{url:r.b},void 0,t)};c.displayName="LoginLink",t.a=c},dB5h:function(e,t){e.exports="/vi-assets/static-assets/icon-t-logo-16x16-333333-b4a149d323fc80fdbecfa988cc290882.svg"},izyI:function(e,t,n){"use strict";var o=n("gcR/"),i=n.n(o),a=n("lSNA"),r=n.n(a),c=(n("q1tI"),n("Jqp9")),s=(n("17x9"),n("Oyvg"),n("ZKN5")),l=n("wXC7"),d=n.n(l),m=Object(c.css)("display:inline-block;margin-right:10px;overflow:hidden;object-fit:cover;.medium &{border-radius:50%;height:30px;width:30px;}.small &{border-radius:50%;height:26px;width:26px;}span&{background:",d.a.color.gray50,";color:",d.a.color.white,";display:inline-block;font-size:12px;text-align:center;text-transform:uppercase;.medium &{line-height:33px;}.small &{line-height:29px;}}.placeholder &{background:",d.a.color.gray80,";}"),u=new RegExp("http(s?)://graphics8.nytimes.com/images/apps/timespeople/none.png"),p="medium",f="small";function h(e){var t=e.url,n=e.title,o=e.size,a=e.placeholder,r=function(e){return e&&u.test(e)?null:e}(t);return i()("div",{className:Object(c.cx)(o,{placeholder:a}),"aria-hidden":"true"},void 0,r&&i()("img",{className:m,alt:n,src:r}),!r&&i()("span",{className:m},void 0,n.substr(0,1)))}h.displayName="UserHeader",h.defaultProps={size:p,title:"",url:null,placeholder:!1};var b,g=Object(s.a)(h),v=(n("SMB2"),Object(c.css)("display:flex;font-size:",d.a.font.size(15),";margin-bottom:5px;width:100%;")),y=Object(c.css)("flex-grow:2;"),O=Object(c.css)("margin-left:10px;"),x=Object(c.css)("font-weight:",d.a.font.weight.bold,";"),w=Object(c.css)("color:",d.a.color.gray35,";font-size:",d.a.font.size(14),";font-weight:",d.a.font.weight.light,";line-height:",d.a.font.size(17),";margin-top:3px;a{color:",d.a.color.gray35,";font-family:",d.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}"),I=Object(c.css)(".",x,"{background:",d.a.color.gray80,";height:10px;width:162px;}.",w,"{background:",d.a.color.gray80,";height:10px;margin-top:4px;width:100px;}");n.d(t,"a",(function(){return C}));var C={MEDIUM:"medium",SMALL:"small"},j=(b={},r()(b,C.MEDIUM,p),r()(b,C.SMALL,f),b);function k(e){var t=e.title,n=e.subtitle,o=e.avatarUrl,a=e.secondaryContent,r=e.size,s=e.avatarTitle;return e.placeholder?i()("div",{className:Object(c.cx)(v,I)},void 0,i()(g,{size:j[r],placeholder:!0}),i()("div",{className:y},void 0,i()("div",{className:x}),i()("div",{className:w}))):i()("div",{className:v},void 0,i()(g,{title:s||t,url:o,size:j[r]}),i()("div",{className:y},void 0,i()("div",{className:x},void 0,t),n&&i()("div",{className:w},void 0,n)),a&&i()("div",{className:O},void 0,a))}k.displayName="UserHeader",k.defaultProps={title:"",subtitle:null,avatarUrl:null,secondaryContent:null,size:C.M,avatarTitle:null,placeholder:!1};t.b=k},mLxj:function(e,t){e.exports="/vi-assets/static-assets/icon-t-logo-16x16-white-ad841ea17addc275d2a0d56571eefb0c.svg"},vAfL:function(e,t,n){"use strict";n.r(t);var o=n("VkAN"),i=n.n(o),a=n("gcR/"),r=n.n(a),c=n("q1tI"),s=n.n(c),l=(n("17x9"),n("QS0n")),d=n("Dugd"),m=n.n(d),u=n("ZKN5"),p=n("8iTF"),f=n("TVGw"),h=n("lSNA"),b=n.n(h),g=(n("OG14"),n("lwsE")),v=n.n(g),y=n("W8MJ"),O=n.n(y),x=n("a1gu"),w=n.n(x),I=n("Nsbk"),C=n.n(I),j=n("7W2i"),k=n.n(j),N=n("X6oL"),T=n.n(N),R=n("cr+I"),z=n.n(R),E=n("Vg22"),P=n("wXC7"),S=n.n(P),A=n("aanX"),L=n.n(A),M=function(e,t){13!==e.keyCode&&32!==e.keyCode||t()},U=function(e,t){27===e.keyCode&&t()},B=n("Jqp9"),F=n("hKNt"),H=n("a9ya"),_=n("e0Jg"),D=n("RIqP"),G=n.n(D),V=n("cFmA"),X=n("f81r"),W=n("uyHG"),q=n.n(W),J=n("2oaX"),K=(q()((function(e){return null==e?void 0:e[Math.floor(Math.random()*e.length)]})),q()((function(e,t,n){var o;return null==e?void 0:null===(o=e.commentIds)||void 0===o?void 0:o.filter((function(e){return Object(J.b)(t,e).attributes.text.length<=n}))})),n("HAE/"),n("WLL4"),n("jm62"),n("ioFf"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("f3/d"),n("dlEz")),Q=n("7FfI"),Y=n("izyI"),Z=(n("SMB2"),n("9onL")),$=Object(B.css)("padding-top:10px;"),ee=Object(B.css)("font-size:",S.a.font.size(13),";line-height:",S.a.font.size(17),";h6{color:#589714;font-weight:",S.a.font.weight.bold,";}"),te=Object(B.css)("font-size:",S.a.font.size(14),";line-height:",S.a.font.size(18),";background:",S.a.color.gray90,";margin-top:15px;padding:15px;"),ne=Object(B.css)(Z.c,";font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";");function oe(e){var t=e.avatarUrl,n=e.commentNotify,o=e.displayName,i=e.location,a=e.text,c=e.isReply,s=n?X.a.waitingOnApprovalNotify:X.a.waitingOnApproval;return r()("div",{className:Object(B.cx)(b()({},$,c))},void 0,r()("div",{className:ee},void 0,r()("h6",{},void 0,X.a.submissionThanks),s),r()("div",{className:te},void 0,r()(Y.b,{size:Y.a.SMALL,title:o,avatarUrl:t,subtitle:"".concat(i," | ").concat(X.a.pendingApproval)}),r()("div",{className:ne},void 0,a)))}oe.displayName="SubmittedComment",oe.defaultProps={avatarUrl:null,isReply:!1};var ie=Object(E.connect)((function(e,t){var n=e.profile.data;return{displayName:n.displayName,location:n.location,avatarUrl:n.picURL,email:n.email,commentNotify:Boolean(n.comment_notify),text:e.commentEntry.submittedComments[t.replyToCommentId]}}))(oe),ae=n("InUh"),re=n.n(ae);function ce(){var e=i()(["\n    fragment CommentEntry_article on Article {\n      ...CommentForm_article\n    }\n    fragment CommentForm_article on Article {\n      url\n    }\n  "]);return ce=function(){return e},e}var se=re()((function(){return Promise.all([n.e(0),n.e(12),n.e(27)]).then(n.bind(null,"69BI"))}),{loadableGenerated:{webpack:function(){return["69BI"]},modules:["./CommentForm"]}}),le=Object(B.css)("position:relative;");function de(e){var t=e.replyToCommentId,n=e.article;return r()("div",{className:le},void 0,r()(se,{article:n,replyToCommentId:t}))}de.displayName="CommentEntry",de.defaultProps={replyToCommentId:void 0},de.fragments={article:m()(ce())};var me=Object(E.connect)()(de),ue=Object(B.css)("font-size:",S.a.font.size(12),";font-weight:",S.a.font.weight.light,";line-height:",S.a.font.size(16),";margin-top:15px;h4{color:",S.a.color.gray35,";text-transform:uppercase;}"),pe=Object(B.css)("border-left:2px solid ",S.a.color.gray70,";padding-left:15px;"),fe=Object(B.css)("background:",S.a.color.white,";border:1px solid ",S.a.color.gray50,";border-radius:4px;color:",S.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",S.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",S.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",S.a.color.gray90,";border:1px solid ",S.a.color.gray60,";color:",S.a.color.gray25,";}"),he=function(e){var t=e.numTotalReplies,n=e.replies,o=e.viewId,i=e.fetchReplies,a=e.isFetchingReplies,c=e.isAcceptingComments,s=e.sourceId,l=e.articleId;if(0===t)return null;var d=n.length<t;return r()("div",{className:ue},void 0,r()("h4",{},void 0,t," ",t>1?X.a.replies:X.a.reply),r()("div",{className:pe,"aria-live":"polite"},void 0,n.map((function(e){return r()(lt,{commentId:e,viewId:o,isAcceptingComments:c,isNested:!0,sourceId:s,articleId:l},e)}))),d&&r()("button",{type:"button",className:fe,onClick:i},void 0,a?X.a.loading:X.a.viewAllReplies))};he.displayName="ReplyList",he.defaultProps={fetchReplies:void 0,isFetchingReplies:void 0,isAcceptingComments:void 0};var be=he,ge=n("OO03"),ve=n("HUmG"),ye=n("mFn4"),Oe=n.n(ye),xe=n("Id00"),we=n("GUXu");function Ie(e){var t=e.user,n=e.hasUserRecommended,o=e.recommendedCount,i=e.unrecommendComment,a=e.recommendComment,c=Object(N.useTracking)(),s=n?X.a.recommended:X.a.recommend,l=o>0?"".concat(o," ").concat(s):s;return Object(ve.e)(t)?r()(we.b,{theme:we.a.SECONDARY,onClick:function(){return function(e){n?(c.trackEvent(Object(_.p)(e)),i()):(c.trackEvent(Object(_.j)(e)),a())}(l)}},void 0,l):r()(we.b,{theme:we.a.SECONDARY},void 0,r()(xe.a,{},void 0,l))}Ie.displayName="RecommendButton",Ie.defaultProps={user:void 0};var Ce=Object(ge.a)(Object(E.connect)((function(e,t){return{recommendedCount:Object(J.e)(e,t.commentId),hasUserRecommended:Object(J.f)(e,t.commentId)}}),(function(e,t){return{recommendComment:function(){return e(Object(F.n)(t.commentId))},unrecommendComment:function(){return e(Object(F.q)(t.commentId))}}}))(Ie));function je(e){var t=e.user,n=e.openCommentEntry;return Object(ve.e)(t)?r()(we.b,{theme:we.a.ACTION,onClick:function(){n()}},void 0,X.a.reply):r()(we.b,{theme:we.a.ACTION},void 0,r()(xe.a,{},void 0,X.a.reply))}je.displayName="ReplyButton",je.defaultProps={user:void 0};var ke=Object(ge.a)(Object(E.connect)(null,(function(e,t){return{openCommentEntry:function(){return e(Object(F.m)(t.replyToCommentId))}}}))(je));function Ne(e){var t=e.commentId,n=e.isNested,o=e.numReplies,i=e.replyToAuthorName,a=e.replyToCommentId,c=e.shouldHideReplies,s=e.isAcceptingComments,d=e.handleShowReplies,m=Object(l.useHistory)(),u=Object(l.useLocation)(),p=!n&&a&&i&&s;if(p)return r()("span",{},void 0,p&&r()(we.b,{theme:we.a.ACTION,onClick:function(e){e.preventDefault(),Object(f.f)({history:m,location:u},a)}},void 0,X.a.inReplyTo," ",i));if(c){var h="".concat(o," ").concat(o>1?X.a.replies:X.a.reply);return r()(we.b,{theme:we.a.ACTION,onClick:d},void 0,h)}return s?r()(ke,{replyToCommentId:t}):null}Ne.defaultProps={isNested:!1,replyToAuthorName:void 0,replyToCommentId:void 0,isAcceptingComments:void 0,shouldHideReplies:void 0,handleShowReplies:function(){return null}};var Te=Object(E.connect)((function(e,t){return{numReplies:Object(J.d)(e,t.commentId),replyToCommentId:Object(J.h)(e,t.commentId),replyToAuthorName:Object(J.g)(e,t.commentId)}}))(Ne),Re=n("7WMn"),ze=function(e){var t=e.sourceId,n=e.commentId;if(!e.userIsModerator)return null;return r()(we.b,{onClick:function(){var e=Object(Re.b)()===Re.a.PRD?"prd":"dev",o="https://moderator-dashboard.".concat(e,".nyt.net/articles/article_").concat(t,"/comments/").concat(n);window.open(o)}},void 0,"Moderate")};ze.displayName="InternalUseOnlyModerateButton";var Ee=ze,Pe=Object(B.css)("margin:20px 0 15px;font-family:",S.a.font.franklinBase,";font-size:0.75rem;color:",S.a.color.gray40,";line-height:1;text-align:center;width:100%;"),Se="".concat(X.a.permalink,": ");function Ae(e){var t=e.shortUrl,n=e.commentId,o=e.fetchShortUrl;Object(c.useEffect)((function(){o()}),[o]);var i="#permid=".concat(n),a=Se+(t?"".concat(t).concat(i):"Loading...");return r()("input",{className:Pe,readOnly:!0,onFocus:function(e){var t=e.target;t.focus(),window.setTimeout((function(){t.setSelectionRange(Se.length,t.value.length)}),0)},value:a})}Ae.displayName="Permalink",Ae.defaultProps={shortUrl:null};var Le=Object(E.connect)((function(e,t){return{shortUrl:Object(J.j)(e,t.commentId)}}),(function(e,t){return{fetchShortUrl:function(){return e(Object(F.j)(t.commentId))}}}))(Ae),Me=Object(B.css)("a,button{background:none;border:none;color:",S.a.color.linkColor,";font-family:",S.a.font.franklinBase,";font-size:",S.a.font.size(13),";line-height:",S.a.font.size(18),";margin-right:10px;text-align:left;text-decoration:none;vertical-align:top;&:hover{text-decoration:underline;cursor:pointer;}}"),Ue=Object(B.css)("margin-right:0;float:right;a,button{color:",S.a.color.gray40,";}"),Be=re()((function(){return Promise.all([n.e(0),n.e(12),n.e(27)]).then(n.bind(null,"2XQA"))}),{loadableGenerated:{webpack:function(){return["2XQA"]},modules:["../FlagForm"]}});function Fe(e){var t=e.commentId,n=e.viewId,o=e.sourceId,i=e.isNested,a=e.shouldHideReplies,c=e.isAcceptingComments,s=e.handleShowReplies,l=e.userIsModerator,d=e.user,m=Object(ve.e)(d);return r()("div",{},void 0,r()("div",{className:Me},void 0,r()(Ee,{userIsModerator:l,commentId:t,sourceId:o}),r()(Te,{handleShowReplies:s,shouldHideReplies:a,isAcceptingComments:c,viewId:n,commentId:t,isNested:i}),r()(Ce,{commentId:t}),r()(Oe.a,{width:400,ariaLabel:"Share permalink",arrowPosition:"top",buttonContent:X.a.share,modalContent:r()(Le,{commentId:t})}),r()("div",{className:Ue},void 0,m&&r()(Oe.a,{width:400,ariaLabel:"Flag content menu",arrowPosition:"top",className:Ue,buttonContent:X.a.flag,modalContent:r()(Be,{commentId:t})}),!m&&r()(xe.a,{},void 0,X.a.flag))))}Fe.displayName="Toolbar",Fe.defaultProps={viewId:null,user:void 0};var He,_e,De,Ge,Ve,Xe=Object(ge.a)(Fe),We=n("dB5h"),qe=n.n(We),Je=n("mLxj"),Ke=n.n(Je),Qe=Object(B.css)("border-bottom:1px solid ",S.a.color.gray60,";font-family:",S.a.font.franklinBase,";font-weight:",S.a.font.weight.medium,";margin-top:20px;padding-bottom:20px;&:last-of-type{border:none;padding-bottom:40px;}"),Ye=Object(B.css)(Z.c,";margin-left:40px;"),Ze=Object(B.css)("& > *{&::before{color:",S.a.color.gray60,";content:'|';display:inline-block;margin:0 8px;}&:first-child::before{content:'';margin:0;}}"),$e=Object(B.css)("white-space:nowrap;"),et=Object(B.css)("display:inline-block;float:right;font-size:",S.a.font.size(12),";font-weight:",S.a.font.weight.bold,";line-height:",S.a.font.size(18),";white-space:nowrap;",S.a.breakpoint.medium,"{font-size:0.737rem;line-height:1.05rem;}&::before{border-radius:50%;height:18px;width:18px;background-color:#fcc772;background-image:url('",qe.a,"');background-position:center;background-repeat:no-repeat;background-size:10px 10px;content:'';display:inline-block;margin-right:4px;margin-bottom:-1px;vertical-align:sub;}"),tt=Object(B.css)("border-radius:50%;height:18px;width:18px;background-color:",S.a.color.black,";background-image:url('",Ke.a,"');background-position:center;background-repeat:no-repeat;background-size:10px 10px;display:inline-block;margin-left:4px;vertical-align:text-bottom;white-space:nowrap;"),nt=Object(B.css)("font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";overflow-x:hidden;a{color:",S.a.color.linkColor,";font-family:",S.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}",Z.c,";}"),ot=Object(B.css)("font-size:",S.a.font.size(12),";line-height:",S.a.font.size(15),";color:",S.a.color.red10,";margin-top:5px;"),it=Object(B.css)("margin-top:15px;"),at=Object(B.css)("border:none;padding-bottom:0;.",Ye,"{margin-left:36px;}"),rt=Object(B.css)("margin-top:10px;");function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(n,!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=(He=T()((function(e){return Object(_.c)(e.commentId)})),_e=Object(E.connect)((function(e,t){var n,o=Object(J.b)(e,t.commentId);if(!o)return{error:!0};var i=o.attributes.authorPanel,a=Object(J.h)(e,t.commentId),r={profile:{name:i.name,location:i.location,avatarUrl:i.avatar,title:i.title},isoTimestamp:o.attributes.sourceApprovedAt,isHighlighted:Boolean(o.attributes.isHighlighted),isReporterReply:Boolean(o.attributes.isReporterReply),replyToCommentId:a,hasSubmittedReply:t.commentId in e.commentEntry.submittedComments,text:o.attributes.text,isFlagged:Object(J.k)(e,t.commentId),commentEntryReplyToCommentId:e.commentEntry.replyToCommentId,numTotalReplies:Object(J.d)(e,t.commentId),userIsModerator:null===(n=e.profile.data)||void 0===n?void 0:n.isModerator};return t.isNested||(r.isFetchingReplies=o.relationships.replies.isFetchingReplies,r.replies=Object(J.c)(e,t.commentId)||[]),r})),Object(u.a)(De=Object(l.withRouter)(De=He(De=_e((Ve=Ge=function(e){function t(){var e,n;v()(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=w()(this,(e=C()(t)).call.apply(e,[this].concat(i)))).state={shouldHideReplies:(n.props.viewId===H.d.HIGHLIGHTED||n.props.viewId===H.d.RECOMMENDED)&&0!==n.props.numTotalReplies},n.fetchReplies=function(){var e=n.props,t=e.tracking,o=e.articleId,i=e.commentId,a=e.replies,r=e.dispatch;n.props.viewId===H.d.REPORTER_REPLIES?r(Object(F.g)(o,i)):r(Object(F.i)(o,i,a.length)),t.trackEvent(Object(_.e)(X.a.viewAllReplies))},n.handleShowReplies=function(){n.props.numTotalReplies>0&&0===n.props.replies.length&&n.fetchReplies(),n.setState(st({},n.state,{shouldHideReplies:!1}))},n.selectSingleComment=function(e){e.preventDefault();var t=n.props,o=t.commentId,i=t.replyToCommentId,a=t.tracking,r=t.viewId;a.trackEvent(Object(_.l)(r,H.d.SINGLE_COMMENT)),i?Object(f.f)({history:n.props.history,location:n.props.location},i,o):Object(f.f)({history:n.props.history,location:n.props.location},o)},n.getTimeStamp=function(){var e=n.props,t=e.isoTimestamp,o=e.viewId,i=r()(K.a,{iso:t,formatter:"elapsed"});return o===H.d.SINGLE_COMMENT?i:r()("a",{href:"",onClick:n.selectSingleComment,className:$e},void 0,i)},n}return k()(t,e),O()(t,[{key:"render",value:function(){if(this.props.error)return null;this.props.isReporterReply&&null!=this.props.profile.title&&(this.props.profile.location=this.props.profile.title);var e=this.props,t=e.profile,n=e.commentId,o=e.isFlagged,i=e.isHighlighted,a=e.isNested,c=e.isReporterReply,s=e.viewId,l=e.totalComments,d=e.commentIndex,m=e.numTotalReplies,u=e.isAcceptingComments,p=e.replies,f=e.isFetchingReplies,h=e.hasSubmittedReply,g=e.userIsModerator,v=e.sourceId,y=e.articleId,O=this.state.shouldHideReplies,x=Object(Q.formatDate)(this.props.isoTimestamp,"elapsed","en",!0),w="".concat(t.name," commented ").concat(x),I=!a&&!!m&&!O,C=this.getTimeStamp();return r()("div",{className:Object(B.cx)(Qe,b()({},at,a)),role:"article",tabIndex:0,"aria-setsize":l,"aria-posinset":d,"aria-labelledby":"comment-description-".concat(d),"aria-describedby":"comment-content-".concat(d)},void 0,r()("a",{className:Object(B.cx)(S.a.a11y.visuallyHidden),href:"",id:"comment-description-".concat(d),"aria-label":w,tabIndex:-1},void 0,w),r()(Y.b,{avatarTitle:t.name,title:r()("span",{},void 0,t.name,c&&r()("div",{className:tt})),avatarUrl:t.avatarUrl,subtitle:r()("span",{className:Ze},void 0,t.location&&r()("span",{dangerouslySetInnerHTML:{__html:t.location}}),C),secondaryContent:i&&r()("div",{className:et},void 0,X.a.timesPick),size:a?Y.a.SMALL:Y.a.MEDIUM}),r()("div",{className:Ye},void 0,r()("p",{id:"comment-content-".concat(d),className:nt,dangerouslySetInnerHTML:{__html:this.props.text}}),o&&r()("div",{className:ot},void 0,X.a.reported),!o&&r()("div",{className:it},void 0,r()(Xe,{viewId:s,commentId:n,sourceId:v,isNested:a,handleShowReplies:this.handleShowReplies,shouldHideReplies:O,isAcceptingComments:u,userIsModerator:g}),this.props.commentEntryReplyToCommentId===n&&r()("div",{className:rt},void 0,r()(me,{replyToCommentId:n})),h&&r()(ie,{isReply:!0,replyToCommentId:n}),I&&r()(be,{viewId:s,replies:p,numTotalReplies:m,fetchReplies:this.fetchReplies,isFetchingReplies:f,isAcceptingComments:u,sourceId:v,articleId:y}))))}}]),t}(c.Component),Ge.defaultProps={replyToCommentId:null,commentEntryReplyToCommentId:null,error:!1,isNested:!1,isReporterReply:!1,totalComments:0,commentIndex:0,replies:[],isFetchingReplies:!1,userIsModerator:!1,numTotalReplies:void 0,dispatch:function(){return null},hasSubmittedReply:void 0},De=Ve))||De)||De)||De)||De),dt=(n("dRSK"),n("J4zp")),mt=n.n(dt),ut=n("/J+c"),pt=n.n(ut),ft=Object(B.css)("color:",S.a.color.blue20,";font-size:13px;margin-bottom:10px;position:relative;text-align:right;"),ht=Object(B.css)("cursor:pointer;display:inline-block;"),bt=Object(B.css)("background:none;display:inline-block;width:9px;margin-left:6px;margin-bottom:2px;vertical-align:baseline;@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){height:10px;}"),gt=Object(B.css)("background-color:",S.a.color.white,";cursor:pointer;position:absolute;right:0;width:105px;ul{border-style:solid;box-shadow:2px 4px 6px ",S.a.color.gray60,";padding-top:4px;text-align:left;}li{color:",S.a.color.black,";padding:10px;&:hover{background-color:",S.a.color.gray90,";}}"),vt=Object(B.css)("font-weight:",S.a.font.weight.mediumBold,";");function yt(e){var t=e.articleId,n=e.listId,o=e.sortOptions,i=e.sortCommentList,a=e.selectedSortType,l=Object(N.useTracking)(),d=Object(c.useRef)(null),m=Object(c.useRef)(null),u=Object(c.useState)(!1),p=mt()(u,2),f=p[0],h=p[1];Object(c.useEffect)((function(){var e=function(e){null!=d.current&&d.current.contains(e.target)||h(!1)};return document.addEventListener("click",e,!0),function(){document.removeEventListener("click",e,!0)}}),[]);var g=function(){h(!f)},v=function(e,o){o.preventDefault(),e!==a&&(i(t,n,e),l.trackEvent(Object(_.m)(e))),g(),m.current&&m.current.focus()};if(0===o.length)return null;var y=o.find((function(e){return e.sortType===a}));return s.a.createElement("div",{className:ft,ref:d},s.a.createElement("div",{role:"button",id:"comment-list-toggle-sort-options",tabIndex:0,onClick:g,onKeyDown:function(e){return M(e,g)},className:ht,ref:m},r()("span",{},void 0,"Sort by: ",y.label),r()("button",{type:"button",className:bt,tabIndex:-1,"aria-expanded":f,"aria-haspopup":"true"},void 0,r()(pt.a,{fill:S.a.color.blue20}))),f&&r()("div",{className:gt},void 0,r()("ul",{role:"tablist"},void 0,o.map((function(e){var t=e.sortType,n=e.label;return r()("li",{onClick:function(e){return v(t,e)},onKeyDown:function(e){M(e,(function(){v(t,e)}))},role:"tab",className:Object(B.cx)(b()({},vt,t===a)),"aria-selected":t===a,tabIndex:0},t,n)})))))}yt.displayName="SortOptions",yt.defaultProps={selectedSortType:null};var Ot=Object(E.connect)((function(e,t){var n=e.commentLists[t.listId];return{sortOptions:(n.sortTypes||[]).map((function(e){return{sortType:e,label:H.b[e]}})),selectedSortType:n.selectedSortType||null}}),(function(e){return{sortCommentList:function(t,n,o){return e(Object(F.p)(t,n,o))}}}))(yt),xt=Object(B.css)("font-size:",S.a.font.size(13),";line-height:",S.a.font.size(20),";margin-top:20px;"),wt=Object(B.css)("background:",S.a.color.white,";border:1px solid ",S.a.color.gray50,";border-radius:4px;color:",S.a.color.gray27,";display:block;font-size:0.62rem;font-weight:",S.a.font.weight.medium,";letter-spacing:0.025rem;line-height:",S.a.font.size(18),";margin-top:20px;padding:5px 0;text-transform:uppercase;width:100%;&:hover{background-color:",S.a.color.gray90,";border:1px solid ",S.a.color.gray60,";color:",S.a.color.gray25,";}"),It=function(e){var t=e.children,n=e.offset,o=e.onEnter,i=e.onExit;if(e.disable||n>t.length)return t;var a=G()(t),c=r()(V.Waypoint,{onEnter:o,onExit:i},"waypointTwo");return a.splice(t.length-n,0,c),a};function Ct(e){var t=e.shouldShowPanel,n=e.fetchCommentList,o=e.fetchCommentListNext,i=e.selectedSortType,a=e.viewId,s=e.articleId,l=e.listId,d=e.sourceId,m=e.commentIds,u=e.isFetching,p=e.isAcceptingComments,f=e.hasNext,h=e.isFetchingNext,b=Object(N.useTracking)();Object(c.useEffect)((function(){t&&n(s,l)}),[t,l,n,s]);var g=u||null===m?X.a.loading:0===m.length?X.a.noComments:null;if(g)return r()("div",{className:xt},void 0,g);var v=X.a.readMore,y=X.a.loading;return r()("div",{role:"feed",tabIndex:-1,"aria-label":X.a.commentList},void 0,i&&r()(Ot,{articleId:s,listId:l,viewId:a}),m&&r()(It,{offset:15,onEnter:function(){return o(s,l)},disable:!f},void 0,m.map((function(e,t){return r()(lt,{tabIndex:0,totalComments:m.length,commentIndex:t+1,articleId:s,viewId:a,isAcceptingComments:p,commentId:e,sourceId:d},e+a)}))),f&&r()("button",{type:"button",className:wt,onClick:function(){return e=v,b.trackEvent(Object(_.h)(a,e)),void o(s,l);var e},disabled:h},void 0,h?y:v))}Ct.displayName="CommentList",Ct.defaultProps={commentIds:null,selectedSortType:null,sourceId:void 0,isFetching:void 0,isFetchingNext:void 0,isAcceptingComments:void 0};var jt=Object(E.connect)((function(e,t){var n,o,i=function(e,t){var n=function(e,t){return e.views[t]||null}(e,t);return n?n.listId:null}(e,t.viewId),a=function(e,t){return e.commentLists[t]||null}(e,i),r=null,c=!1,s=null;return a&&(r=a.commentIds||null,c=!!a.nextUrl,s=a.selectedSortType||null),{listId:i,commentIds:r,hasNext:c,isFetching:null===(n=e.commentLists[i])||void 0===n?void 0:n.isFetching,isFetchingNext:null===(o=e.commentLists[i])||void 0===o?void 0:o.isFetchingNext,selectedSortType:s}}),(function(e){return{fetchCommentList:function(t,n){return e(Object(F.e)(t,n))},fetchCommentListNext:function(t,n){return e(Object(F.f)(t,n))}}}))(Ct),kt=Object(B.css)("margin-top:10px;"),Nt=Object(B.css)("color:",S.a.color.gray20,";font-size:",S.a.font.size(14),";font-weight:",S.a.font.weight.medium,";line-height:",S.a.font.size(18),";margin-bottom:12px;margin-top:15px;a{color:",S.a.color.blue20,";font-family:",S.a.font.franklinBase,";text-decoration:none;&:hover{text-decoration:underline;}}",S.a.breakpoint.medium,"{line-height:",S.a.font.size(20),";}"),Tt=Object(B.css)(Z.b,";box-sizing:border-box;color:",S.a.color.gray30,";display:block;font-size:",S.a.font.size(14),";height:42px;line-height:",S.a.font.size(24),";padding-top:11px;"),Rt=Object(B.css)("cursor:text;");function zt(){var e=i()(["\n    fragment CommentPrompt_article on Article {\n      ...CommentEntry_article\n    }\n    ","\n  "]);return zt=function(){return e},e}function Et(e){var t=e.user,n=e.article,o=e.isFetching,i=e.commentQuestion,a=e.isAcceptingComments,c=e.commentEntryReplyToCommentId,s=e.openCommentEntry,l=Object(N.useTracking)();if(o)return null;if(!a)return r()("div",{className:Object(B.cx)(kt,Nt),dangerouslySetInnerHTML:{__html:X.a.commentsClosed}});var d=Object(J.i)(),m=Object(ve.e)(t);if(c===d&&m)return r()("div",{className:kt},void 0,r()(me,{article:n,replyToCommentId:d}));var u=X.a.commentPromptPlaceholder,p=i===u?X.a.welcome:i,f=X.a.moderationDisclaimer;return r()("div",{className:kt},void 0,m&&r()("span",{className:Object(B.cx)(Tt,Rt),onClick:s,onKeyPress:s,role:"textbox",tabIndex:"0"},void 0,u),!m&&r()(xe.a,{},void 0,r()("span",{className:Tt},void 0,u)),r()("div",{className:Nt},void 0,p," ",r()("a",{href:"https://www.nytimes.com/content/help/site/usercontent/usercontent.html",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e=f,void l.trackEvent(Object(_.f)(e));var e}},void 0,f)))}Et.displayName="CommentPrompt",Et.defaultProps={user:void 0,article:void 0,isAcceptingComments:void 0,isFetching:void 0,commentEntryReplyToCommentId:void 0},Et.fragments={article:m()(zt(),me.fragments.article)};var Pt=Object(ge.a)(Object(E.connect)((function(e){return{isFetching:e.article.isFetching,commentQuestion:e.panel.commentQuestion||"",commentEntryReplyToCommentId:e.commentEntry.replyToCommentId}}),(function(e){return{openCommentEntry:function(){return e(Object(F.m)(Object(J.i)()))}}}))(Et)),St=Object(B.css)("background:none;border:none;color:",S.a.color.blue20,";font-size:",S.a.font.size(13),";font-weight:",S.a.font.weight.book,";line-height:",S.a.font.size(20),";"),At=Object(B.css)("max-width:300px;text-align:center;"),Lt=Object(B.css)("font-family:",S.a.font.franklinBase,";font-weight:",S.a.font.weight.bold,";font-size:17px;display:flex;justify-content:center;align-items:center;.",At,"{padding:100px 0;}@supports (height:100vh){height:70vh;.",At,"{padding:0;}}");function Mt(e){var t=e.articleId,n=e.sourceId,o=e.commentId,i=e.replyCommentId,a=e.isFetching,s=e.isCommentLoaded,l=e.isAcceptingComments,d=e.fetchComments,m=e.closeView,u=Object(c.useState)(a),p=mt()(u,2),f=p[0],h=p[1];return Object(c.useEffect)((function(){var e=function(){return h(!1)};d(t,o,i?[i]:[]).then(e).catch(e)}),[t,o,d,i]),r()("div",{},void 0,r()("button",{type:"button",className:St,onClick:m},void 0,X.a.backToAllComments),s&&r()(lt,{articleId:t,sourceId:n,commentId:o,viewId:H.d.SINGLE_COMMENT,isAcceptingComments:l}),!f&&!s&&r()("div",{className:Lt},void 0,r()("span",{className:At},void 0,X.a.commentNotFound)))}Mt.displayName="SingleComment",Mt.defaultProps={isFetching:!0,sourceId:void 0,isAcceptingComments:void 0,isCommentLoaded:!1,replyCommentId:""};var Ut=Object(E.connect)((function(e,t){var n=Object(J.b)(e,t.commentId);return{isCommentLoaded:Boolean(n)}}),(function(e){return{fetchComments:function(t,n,o){return e(Object(F.g)(t,n,o))}}}))(Mt),Bt=n("+4HN"),Ft=Object(B.css)("font-family:",S.a.font.franklin,";font-weight:",S.a.font.weight.medium,";font-size:",S.a.font.size(17),";letter-spacing:0.2px;line-height:1.2rem;display:flex;justify-content:center;align-items:center;height:100%;width:100%;"),Ht=Object(B.css)("max-width:300px;p{padding:1em 0;}"),_t=Object(B.css)("color:",S.a.color.blue20,";"),Dt=r()("div",{className:Ft},void 0,r()("div",{className:Ht},void 0,r()("p",{},void 0,"Due to technical difficulties, comments are unavailable. We’re working to fix the issue as soon as possible."),r()("p",{},void 0,"If you have a critical piece of feedback for us, you can always reach the newsroom via the"," ",r()(Bt.a,{className:_t,alt:"reader center",url:"https://www.nytimes.com/2017/08/08/reader-center/we-want-to-hear-from-you.html"},void 0,"Reader Center"),"."),r()("p",{},void 0,"Thank you for reading, and sorry for the trouble!"))),Gt=function(){return Dt};Gt.displayName="UnderMaintenance";var Vt=Gt,Xt=(n("84bF"),Object(B.css)("position:relative;")),Wt=Object(B.css)("background:-webkit-linear-gradient(left,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);height:42px;position:absolute;pointer-events:none;right:0;top:0;width:30px;z-index:2;"),qt=Object(B.css)("background:",S.a.color.white,";border-bottom:1px solid ",S.a.color.gray60,";box-shadow:0 6px 6px -6px ",S.a.color.gray60,";display:block;height:42px;-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;&::-webkit-scrollbar{display:none;}@media (max-width:",S.a.breakpoint.width.small,"px){padding:0 20px;}ul{color:",S.a.color.gray35,";display:inline-block;font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";overflow:hidden;white-space:nowrap;",S.a.breakpoint.medium,"{font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";}",S.a.breakpoint.extraLarge,"{font-size:",S.a.font.size(14),";line-height:",S.a.font.size(21),";}li{display:inline-block;cursor:pointer;padding-top:15px;padding-bottom:4px;margin-right:20px;min-width:30px;text-align:center;font-weight:",S.a.font.weight.mediumBold,";a{color:",S.a.color.gray35,";}&.selected{border-bottom:2px solid ",S.a.color.black,";color:",S.a.color.black,";font-weight:",S.a.font.weight.mediumBold,";a{color:",S.a.color.black,";}}}}");function Jt(e){var t=e.tabs,n=e.selectedViewId,o=e.selectView,i=e.firstTabRef,a=Object(N.useTracking)();return 0===t.length?null:r()("div",{className:Xt},void 0,r()("div",{className:Wt}),r()("div",{className:qt},void 0,r()("ul",{role:"tablist"},void 0,t.map((function(e,t){var c=e.viewId,l=e.label;return r()("li",{className:Object(B.cx)({selected:n===c}),role:"tab","aria-selected":n===c},c,s.a.createElement("a",{href:"",ref:0===t?i:null,tabIndex:0,onClick:function(e){return function(e,t){t.preventDefault(),e!==n&&(a.trackEvent(Object(_.l)(n,e)),o(e))}(c,e)}},l))})))))}Jt.displayName="Tabs",Jt.defaultProps={tabs:[],selectedViewId:null};var Kt=Object(E.connect)((function(e){return{tabs:e.panel.tabs}}),(function(e){return{selectView:function(t){return e(Object(F.o)(t))}}}))(Jt),Qt=n("rI8Z"),Yt=n("kV2j"),Zt=Object(B.css)("color:",S.a.color.black,";display:inline-block;font-weight:",S.a.font.weight.bold,";font-size:",S.a.font.size(30),";line-height:",S.a.font.size(34),";padding-left:2px;padding-right:2px;span{color:",S.a.color.gray20,";font-weight:",S.a.font.weight.medium,";font-size:",S.a.font.size(24),";line-height:",S.a.font.size(29),";}a:focus{outline:0;}"),$t=Object(B.css)("color:",S.a.color.blue30,";display:none;font-family:",S.a.font.serifMedium,";line-height:1.18rem;margin-top:5px;text-decoration:none;&:hover{text-decoration:underline;}"),en=Object(B.css)("font-family:",S.a.font.franklinBase,";font-size:",S.a.font.size(14),";line-height:",S.a.font.size(20),";font-weight:",S.a.font.weight.bold,";text-transform:uppercase;letter-spacing:0.05em;top:50px;right:125px;");function tn(){var e=i()(["\n    fragment Header_article on Article {\n      headline {\n        default\n      }\n    }\n  "]);return tn=function(){return e},e}function nn(e){var t=e.closePanel,n=e.skipToCommentList,o=e.commentCount,i=e.article;return r()("header",{},void 0,r()("h2",{className:Zt},void 0,r()("a",{href:"#commentsContainer",tabIndex:-1,"aria-label":Qt.c.comments.commentPanel},void 0,"Comments ",o>0&&r()("span",{},void 0,o))),r()("a",{className:$t,href:"",onClick:t},void 0,i.headline.default),r()("a",{href:"",className:Object(B.cx)(S.a.a11y.visuallyHidden,S.a.a11y.focusable,en),onClick:n,tabIndex:0},void 0,"Skip to Comments"))}nn.displayName="Header",nn.defaultProps={commentCount:void 0},nn.fragments={article:m()(tn())};var on,an,rn,cn,sn,ln=Object(E.connect)((function(e){return{commentCount:Object(Yt.b)(e)}}))(nn),dn=Object(B.css)("background-color:",S.a.color.white,";box-shadow:3px 0 12px 3px rgba(0,0,0,0.25);font-family:",S.a.font.franklinBase,";height:100%;overflow:hidden;position:fixed;right:0;top:0;width:100%;z-index:",S.a.zIndex.commentsPanel,";visibility:hidden;transform:translateX(110%);transition:transform 300ms ease,visibility 300ms;",S.a.printHide,";",S.a.breakpoint.small,"{width:530px;}"),mn=Object(B.css)("visibility:visible;transform:none;transition:transform 300ms ease,visibility 300ms;"),un=Object(B.css)("background-color:",S.a.color.white,";display:block;height:15px;right:16px;position:absolute;top:16px;width:15px;z-index:3;@media (max-width:",S.a.breakpoint.width.small,"px){right:15px;}"),pn=Object(B.css)("height:100%;overflow-y:scroll;width:100%;-webkit-overflow-scrolling:touch;"),fn=Object(B.css)("padding:40px 0;position:relative;box-sizing:border-box;height:100%;"),hn=Object(B.css)("padding:0 40px;z-index:0;@media (max-width:",S.a.breakpoint.width.small,"px){padding:0 20px;}"),bn=Object(B.css)("margin-bottom:10px;position:sticky;top:0;z-index:2;",S.a.breakpoint.small,"{padding:0 40px;}");function gn(){var e=i()(["\n    fragment CommentsPanel_article on Article {\n      ...CommentPrompt_article\n      ...Header_article\n      sourceId\n      url\n    }\n    ","\n    ","\n  "]);return gn=function(){return e},e}var vn=r()(Vt,{}),yn=(on=Object(E.connect)((function(e,t){var n,o={viewId:e.panel.viewId},i=Object(f.c)(t.location),a=i.commentId,r=i.replyCommentId;return a&&(o.backToViewId=o.viewId,o.viewId=H.d.SINGLE_COMMENT,o.singleComment={commentId:a,replyCommentId:r}),(null===(n=e.article)||void 0===n?void 0:n.data)&&(o.articleId=e.article.data.id),o.isAcceptingComments=Object(p.f)(e.article.commentStatus),o.hasSubmittedParentComment=!1,o.replyToCommentId=Object(J.i)(),o.isUnderMaintenance=e.panel.isUnderMaintenance||!1,e.commentEntry&&(o.hasSubmittedParentComment=Object(J.i)()in e.commentEntry.submittedComments),o}),(function(e){return{fetchProfile:function(t){return e(Object(F.h)(t))},fetchArticle:function(t,n){return e(Object(F.d)(t,n))}}})),an=T()((function(e){return Object(_.k)(e.viewId)})),Object(l.withRouter)(rn=on(rn=an((sn=cn=function(e){function t(){var e,n;v()(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=w()(this,(e=C()(t)).call.apply(e,[this].concat(i)))).commentsPanelRef=s.a.createRef(),n.firstTabRef=s.a.createRef(),n.handleOpenPanel=function(){return Object(f.e)({history:n.props.history,location:n.props.location})},n.handleClosePanel=function(){return Object(f.a)({history:n.props.history,location:n.props.location})},n.handleClosePanel=function(){n.props.tracking.trackEvent(Object(_.b)()),n.focusOnSpeechBubble(),Object(f.a)({history:n.props.history,location:n.props.location})},n.handleCloseSingleComment=function(){var e=n.props,t=e.backToViewId;e.tracking.trackEvent(Object(_.l)(H.d.SINGLE_COMMENT,t)),Object(f.b)(n.props)},n.focusOnSpeechBubble=function(){if(document&&window){var e=window.NYT_SPEECHBUBBLE||"comments-speech-bubble-top",t=document.getElementById(e);t&&(t.focus(),delete window.NYT_SPEECHBUBBLE)}},n.focusOnCommentsPanel=function(){n.commentsPanelRef.current&&setTimeout((function(){return n.commentsPanelRef.current.focus()}),450)},n.skipToCommentList=function(e){e.preventDefault(),n.firstTabRef.current&&setTimeout((function(){return n.firstTabRef.current.focus()}),500)},n.escHandler=function(e){return U(e,n.handleClosePanel)},n}return k()(t,e),O()(t,[{key:"showPanelWithTracking",value:function(){var e,t=this.props,n=t.viewId,o=t.articleId,i=t.tracking,a=t.article.url,r=t.shouldShowPanel,c=t.location.search,s=z.a.parse(c);this.props.fetchProfile(a),this.props.fetchArticle(o,a),this.focusOnCommentsPanel(),"HPCommentsRefer"===s.modref?e=_.a.AUTOOPEN_HOME:"comment-approval"===s.emc?e=_.a.AUTOOPEN_EMAIL_LINK:n===H.d.SINGLE_COMMENT?e=_.a.AUTOOPEN_PERMALINK:r&&(e=_.a.AUTOOPEN),e&&setTimeout((function(){return i.trackEvent(Object(_.i)(e))}),1e3)}},{key:"componentDidMount",value:function(){this.props.shouldShowPanel&&this.showPanelWithTracking(),document.addEventListener("keydown",this.escHandler,!1),window.NYT_openCommentsPanel=this.handleOpenPanel}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escHandler,!1)}},{key:"componentDidUpdate",value:function(e){!e.shouldShowPanel&&this.props.shouldShowPanel&&this.showPanelWithTracking()}},{key:"render",value:function(){var e=this.props,t=e.singleComment,n=e.article,o=e.articleId,i=e.viewId,a=e.article.sourceId,c=e.shouldShowPanel,l=e.isAcceptingComments,d=e.replyToCommentId,m=e.hasSubmittedParentComment,u=e.isUnderMaintenance,p=!u&&t&&t.commentId,f=!u&&!p;return r()("div",{className:Object(B.cx)(dn,b()({},mn,c)),role:"region","aria-label":"comments panel",tabIndex:-1},void 0,s.a.createElement("button",{ref:this.commentsPanelRef,type:"button",className:un,onClick:this.handleClosePanel,"aria-label":"close comments panel"},r()(L.a,{tabIndex:0,stroke:S.a.color.gray30})),r()("div",{className:pn},void 0,r()("div",{className:fn},void 0,u&&vn,p&&o&&r()("div",{className:hn},void 0,r()(Ut,{tabIndex:0,sourceId:a,articleId:o,commentId:t.commentId,replyCommentId:t.replyCommentId,closeView:this.handleCloseSingleComment,isAcceptingComments:l})),f&&r()("div",{},void 0,r()("div",{className:hn},void 0,r()(ln,{article:n,closePanel:this.handleClosePanel,skipToCommentList:this.skipToCommentList}),!m&&r()(Pt,{article:n,isAcceptingComments:l}),m&&r()(ie,{replyToCommentId:d})),s.a.createElement("div",{ref:this.commentsListRef,className:bn},r()(Kt,{selectedViewId:i,firstTabRef:this.firstTabRef})),r()("div",{className:hn},void 0,o&&i&&r()(jt,{shouldShowPanel:c,isAcceptingComments:l,viewId:i,articleId:o,sourceId:a}))))))}}]),t}(c.Component),cn.defaultProps={hasSubmittedParentComment:void 0,isAcceptingComments:void 0,isUnderMaintenance:void 0,singleComment:void 0,articleId:void 0,viewId:void 0,replyToCommentId:void 0,backToViewId:void 0,location:{},history:{}},rn=sn))||rn)||rn)||rn);yn.fragments={article:m()(gn(),Pt.fragments.article,ln.fragments.article)};var On=yn;function xn(){var e=i()(["\n    fragment CommentsPanelContainer_article on Article {\n      commentStatus\n      ...CommentsPanel_article\n    }\n    ","\n  "]);return xn=function(){return e},e}function wn(e){var t=e.article,n=Object(l.useLocation)();return Object(p.h)(t.commentStatus)?r()(On,{shouldShowPanel:Object(f.d)({location:n}),article:t}):null}wn.fragments={article:m()(xn(),On.fragments.article)};var In=Object(u.a)(wn);In.displayName="CommentsPanelContainer";var Cn=In;n.d(t,"default",(function(){return Cn}))}}]);
//# sourceMappingURL=comments-edce07693cc88fb3fe27.js.map